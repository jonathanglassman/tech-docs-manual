<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Tech docs</title>

    <!--[if gt IE 8]><!--><link href="/stylesheets/screen.css" rel="stylesheet" media="screen" /><!--<![endif]-->
    <!--[if lte IE 8]><link href="/stylesheets/screen-old-ie.css" rel="stylesheet" media="screen" /><![endif]-->

    <link rel="canonical" href="tech-docs-manual.cloudapps.digital/">


    <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="/javascripts/application.js"></script>
  </head>

  <body>
    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="skip-link">Skip to main content</a>

        <header class="header header--full-width">
  <div class="header__container">
    <div class="header__brand">
        <a href="/">
        <span class="header__title">
          Tech docs template
        </span>
        </a>
    </div>

  </div>
</header>

      </div>

      <div id="toc-heading" class="toc-show fixedsticky">
        <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
          Table of contents <span class="toc-show__icon"></span>
        </a>
      </div>

      <div class="app-pane__body" data-module="in-page-navigation">
        <div class="app-pane__toc">
          <div class="toc" data-module="table-of-contents">
            <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
            <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
              <ul>
  <li>
    <a href="#tech-docs-template">Tech docs template</a>
    <ul>
      <li>
        <a href="#usage">Usage</a>
        <ul>
          <li>
            <a href="#create-a-new-site">Create a new site</a>
          </li>
          <li>
            <a href="#update-a-site">Update a site</a>
          </li>
          <li>
            <a href="#configuration-options">Configuration options</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#developing-the-template">Developing the template</a>
        <ul>
          <li>
            <a href="#local-development">Local development</a>
          </li>
          <li>
            <a href="#how-to-contribute">How to contribute</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#active-users">Active users</a>
      </li>
    </ul>
  </li>
</ul>

            </nav>
          </div>
        </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="tech-docs-template">Tech docs template</h1>
<p>The Tech docs template is a <a href="https://middlemanapp.com/">middleman</a> <a href="https://middlemanapp.com/advanced/project_templates/s">template</a> that
you can use to build technical documentation using a GOV.UK style.</p>

<p><a href="images/composite.png" target="_blank" rel="noopener noreferrer"><img src="/images/composite.png" alt="Screenshot of Example Documentation" /></a></p>

<p>The project consists of 3 repositories:</p>

<ul>
<li><a href="https://github.com/alphagov/tech-docs-template">alphagov/tech-docs-template</a>: the middleman site generator used to generate new sites</li>
<li><a href="https://github.com/alphagov/tech-docs-gem">alphagov/tech-docs-gem</a>: the gem used by generated sites to include HTML, CSS and JS</li>
<li><a href="https://github.com/alphagov/tech-docs-manual">alphagov/tech-docs-manual</a>: the repo that generates the documentation you&rsquo;re looking at now</li>
</ul>
<h2 id="usage">Usage</h2><h3 id="create-a-new-site">Create a new site</h3>
<p>You&rsquo;ll need <a href="https://middlemanapp.com/">middleman</a> installed, and its dependencies (Ruby). If you have Ruby v2.2.2 or newer installed you <em>should</em> just be able to run <code>gem install middleman</code>. Installing or updating Ruby is outside the scope of this README.</p>

<p>From the command line run the following commands, substituting <code>my-new-project</code>
for the name of your new project:</p>
<div class="highlight"><pre class="highlight shell"><code>middleman init my-new-project <span class="nt">-T</span> alphagov/tech-docs-template
</code></pre></div>
<p>This will run an interactive prompt where you can set basic configuration for
your project.</p>

<p>In order to configure things like the header, edit <code>config/tech-docs.yml</code>.</p>
<h3 id="update-a-site">Update a site</h3>
<p>In most cases you can update your project to the latest template by running:</p>
<div class="highlight"><pre class="highlight plaintext"><code>bundle update govuk_tech_docs
</code></pre></div>
<p>This will make the site use the latest version of the <a href="https://github.com/alphagov/tech-docs-gem">govuk_tech_docs gem</a>.</p>

<p>The <a href="https://github.com/alphagov/tech-docs-gem/blob/master/CHANGELOG.md">CHANGELOG</a> in the gem should tell you what changed and if you have to update any of your files. If that is the case, run:</p>
<div class="highlight"><pre class="highlight plaintext"><code>middleman init . -T alphagov/tech-docs-template
</code></pre></div>
<p>If you have made any changes to the layout or any of the assets you will be
prompted to resolve any conflicts, at which point you can view a diff between
your version and the latest version.</p>
<h3 id="configuration-options">Configuration options</h3>
<p>You can configure the site using <code>config/tech-docs.yml</code>. <a href="https://github.com/alphagov/paas-tech-docs/blob/master/config/tech-docs.yml">See the PaaS tech docs for an example</a>.</p>

<p>These are all the available options:</p>
<h4 id="host"><code>host</code></h4>
<p>Host to use for canonical URL generation (without trailing slash).</p>

<p>Example:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">host</span><span class="pi">:</span> <span class="s">https://docs.cloud.service.gov.uk</span>
</code></pre></div><h4 id="show-govuk-logo"><code>show_govuk_logo</code></h4>
<p>Whether to show the GOV.UK crown logo.</p>

<p>default: <code>true</code></p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">show_govuk_logo</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div><h4 id="service-name"><code>service_name</code></h4>
<p>The service name in the header.</p>

<p>Example:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">service_name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Platform</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">Service"</span>
</code></pre></div><h4 id="service-link"><code>service_link</code></h4>
<p>What the service name in the header links to.</p>

<p>default: &rsquo;/&rsquo;</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">service_link</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
</code></pre></div><h4 id="phase"><code>phase</code></h4><div class="highlight"><pre class="highlight yaml"><code><span class="na">phase</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Beta"</span>
</code></pre></div><h4 id="header-links"><code>header_links</code></h4>
<p>Right hand side navigation.</p>

<p>Example:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">header_links</span><span class="pi">:</span>
  <span class="na">Documentation</span><span class="pi">:</span> <span class="s">/</span>
</code></pre></div><h4 id="prevent-indexing"><code>prevent_indexing</code></h4>
<p>Prevent robots from indexing (e.g. whilst in development)</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">prevent_indexing</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div><h4 id="ga-tracking-id"><code>ga_tracking_id</code></h4>
<p>Tracking ID from Google Analytics</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">ga_tracking_id</span><span class="pi">:</span> <span class="s">UA-XXXX-Y</span>
</code></pre></div><h4 id="max-toc-heading-level"><code>max_toc_heading_level</code></h4>
<p>Table of contents depth – how many levels to include in the table of contents. If your ToC is too long, reduce this number and we&rsquo;ll only show higher-level headings.</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">max_toc_heading_level</span><span class="pi">:</span> <span class="s">6</span>
</code></pre></div><h4 id="google-site-verification"><code>google_site_verification</code></h4>
<p>Adds a <a href="https://support.google.com/webmasters/answer/35179?hl=en">Google Site Verification code</a> to the meta tags.</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">google_site_verification</span><span class="pi">:</span> <span class="s">TvDTuyvdstyusadrCSDrctyd</span>
</code></pre></div><h2 id="developing-the-template">Developing the template</h2><h3 id="local-development">Local development</h3>
<p>If you make changes to the template you can create a test site with this command.
Make sure that you&rsquo;ve committed your changes first, because Middleman works with Git.</p>
<div class="highlight"><pre class="highlight plaintext"><code>bundle install
bundle exec middleman init tmp/test-run -T file://$(pwd)
cd tmp/test-run
bundle exec middleman server
</code></pre></div>
<p>Your generated site should appear on <a href="http://localhost:4567">http://localhost:4567</a>.</p>
<h3 id="how-to-contribute">How to contribute</h3><h2 id="active-users">Active users</h2>
<p>This project is in active use by:</p>

<ul>
<li><a href="https://gds-way.cloudapps.digital">GDS Way</a> (<a href="https://github.com/alphagov/gds-way">GitHub repo</a>)</li>
<li><a href="https://content-api.publishing.service.gov.uk">GOV.UK Content API</a> (<a href="https://github.com/alphagov/govuk-content-api-docs">GitHub repo</a>)</li>
<li><a href="https://docs.publishing.service.gov.uk/">GOV.UK Developer docs</a> (<a href="https://github.com/alphagov/govuk-developer-docs">GitHub repo</a>)</li>
<li><a href="https://govukpay-docs.cloudapps.digital">GOV.UK Pay</a> (<a href="https://github.com/alphagov/pay-tech-docs">GitHub repo</a>)</li>
<li><a href="https://docs.cloud.service.gov.uk/">GOV.UK Platform as a Service</a> (<a href="https://github.com/alphagov/paas-tech-docs">GitHub repo</a>)</li>
<li><a href="https://registers-docs.cloudapps.digital">GOV.UK Registers</a> (<a href="https://github.com/alphagov/registers-tech-docs">GitHub repo</a>)</li>
<li><a href="https://reliability-engineering.cloudapps.digital">Reliability Engineering</a> (<a href="https://github.com/alphagov/reliability-engineering">GitHub repo</a>)</li>
</ul>

<p>In development:</p>

<ul>
<li>GOV.UK Notify (<a href="https://github.com/alphagov/notifications-tech-docs">GitHub repo</a>)</li>
</ul>

          </main>

          <footer class="footer">
  <div class="footer__licence">
    <a class="footer__licence-logo" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence</a>
    <p class="footer__licence-description">All content is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated</p>
  </div>

  <div class="footer__copyright">
    <a class="footer__copyright-logo" href="http://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/copyright-and-re-use/crown-copyright/">© Crown copyright</a>
  </div>
</footer>

        </div>
      </div>
    </div>

    
  </body>
</html>
